(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["form"],{"22fc":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 爬取\n            ")])],1)],1),r("div",{staticClass:"container"},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"书名"}},[r("el-input",{model:{value:e.form.bookName,callback:function(t){e.$set(e.form,"bookName",t)},expression:"form.bookName"}})],1),r("el-form-item",{attrs:{label:"作者"}},[r("el-input",{model:{value:e.form.authorName,callback:function(t){e.$set(e.form,"authorName",t)},expression:"form.authorName"}})],1),r("el-form-item",{attrs:{label:"首章地址"}},[r("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),r("el-form-item",{attrs:{label:"规则"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.matchRexId,callback:function(t){e.$set(e.form,"matchRexId",t)},expression:"form.matchRexId"}},e._l(e.rex,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),r("el-button",{staticClass:"refresh",attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.refresh}},[e._v("刷新")])],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("开始爬取")]),r("el-button",{on:{click:e.reset}},[e._v("取消")])],1)],1)],1)])])},a=[],n={name:"SpiderForm",data:function(){return{form:{},rex:[]}},created:function(){this.getRex()},methods:{refresh:function(){var e=this;this.$axios.get("/admin/rex").then((function(t){e.rex=t.data.data,e.$message.success("刷新成功！")}))},onSubmit:function(){var e=this;this.$axios.post("/admin/book",this.form).then((function(t){e.$message.success("正在爬取！"),e.reset()}))},getRex:function(){var e=this;this.$axios.get("/admin/rex").then((function(t){e.rex=t.data.data}))},reset:function(){this.form={bookName:"",authorName:"",url:"",encode:"",matchRexId:""}}}},l=n,s=(r("4994"),r("2877")),i=Object(s["a"])(l,o,a,!1,null,null,null);t["default"]=i.exports},4994:function(e,t,r){"use strict";var o=r("b4c5"),a=r.n(o);a.a},b4c5:function(e,t,r){},c629:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 规则\n            ")])],1)],1),r("div",{staticClass:"container"},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"名称"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"介绍"}},[r("el-input",{model:{value:e.form.info,callback:function(t){e.$set(e.form,"info",t)},expression:"form.info"}})],1),r("el-form-item",{attrs:{label:"内容匹配规则"}},[r("el-input",{model:{value:e.form.contentRex,callback:function(t){e.$set(e.form,"contentRex",t)},expression:"form.contentRex"}})],1),r("el-form-item",{attrs:{label:"标题匹配规则"}},[r("el-input",{model:{value:e.form.titleRex,callback:function(t){e.$set(e.form,"titleRex",t)},expression:"form.titleRex"}})],1),r("el-form-item",{attrs:{label:"下一章匹配规则"}},[r("el-input",{model:{value:e.form.nextPageRex,callback:function(t){e.$set(e.form,"nextPageRex",t)},expression:"form.nextPageRex"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.postRex}},[e._v("新增规则")]),r("el-button",{on:{click:e.reset}},[e._v("取消")])],1)],1)],1)])])},a=[],n={name:"RexForm",data:function(){return{form:{}}},created:function(){0},methods:{postRex:function(){var e=this;this.$axios.post("/admin/rex",this.form).then((function(t){e.$message.success("新增成功！"),e.reset()})).catch((function(t){e.$message.error("新增失败！")}))},reset:function(){this.form={contentRex:"",titleRex:"",nextPageRex:"",name:"",info:""}}}},l=n,s=r("2877"),i=Object(s["a"])(l,o,a,!1,null,null,null);t["default"]=i.exports}}]);